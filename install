#!/bin/bash

dir="$( cd "$( dirname "${BASH_SOURCE:-$0}" )" && pwd )"

# ln -s $HOME/src/rust/rust/src/etc/ctags.rust ~/.ctags

for file in gitconfig gitignore hushlogin tmux.conf vimrc zshrc ideavimrc
do
  install_path="${HOME}/.${file}"

  if [ -L $install_path ]; then
    rm $install_path # If its a link, remove it
  elif [ -f $install_path ]; then
    tmp=$(mktemp -d)
    echo "${install_path} exists already! moving to ${tmp}"
    mv $install_path "${tmp}/"
  fi

  ln -s "${dir}/${file}" $install_path
done

if [[ $(type -P vim) ]]; then

  if [ ! -d "${HOME}/.vim/bundle/Vundle.vim" ]; then
    git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
  fi

  vim +BundleInstall! +BundleClean +qall
fi
